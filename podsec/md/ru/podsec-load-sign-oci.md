podsec-load-sign-oci(1) -- разворачивание образов  из сжатого  `xz-oci-архива`, их подпись и помещение на регистратор
================================

## SYNOPSIS

`podsec-load-sign-oci имя_архивного_файла архитектура EMail_подписанта [регистратор/тропа]`

## DESCRIPTION

Скрипт:

- извлекает из сжатого  `xz-oci-архива` образы,

- разворачивает их в файловой системе,

- подписывает и помещает на  регистратор по указаной тропе.

## OPTIONS

1. `Архив oci-файла`, передаваемый первым параметром должен быть сжат компрессором `xz`.

2. `Имя архитектуры` должно принадлежать списку `amd64`, `arm64`, `arm`, `ppc64le`, `386`.

3. `EMail_подписанта` должно быть указано в подписи пользователя и  указывается без обрамляющих скобок `<>`.

4.  `регистратор/тропа` должна содержать имя подкаталога регистратора. Формат `регистратор` недопустим
  Если `регистратор/тропа` не указана, принимается тропа  `registry.local/k8s-c10f1`

## EXAMPLES

`podsec-load-sign-oci /mnt/cdrom/containers/amd64.tar.xz amd64 immklocal@baseat.ru registry.local`

`podsec-load-sign-oci /mnt/cdrom/containers/amd64.tar.xz amd64 immkk8s@baseat.ru`

## SECURITY CONSIDERATIONS

- Данный скрипт должен запускаться только на узле с доменами `registry.local`, `sigstore-local`. Если это не так, скрипт прекращает свою работу.

- Скрипт должен вызываться пользователем входящим в группу `podman_dev`.

## AUTHOR

Костарев Алексей, Базальт СПО
kaf@basealt.ru
