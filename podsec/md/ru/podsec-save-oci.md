podsec-save-oci(1) -- архивация образов различных архитектур в указанный первым параметром каталог c последующим сжатием и формированием `xz-oci-архива`
================================

## SYNOPSIS

`podsec-save-oci каталог_архивирования_образов архитектура,архитектура,...|all образ ...`

## DESCRIPTION


## OPTIONS

- Скрипт производит архивацию образов в указанный первым параметром каталог

- Второй параметры задает через запятую архивируемые архитектуры. Если второй параметр имеет значение all архивируются все архитектуры: `amd64`, `arm64`, `arm ppc64le`, `386`.

- Скрипт производит загрузку образов, указанных 3-м и последующими параметрами  с регистратора `registry.altlinux.org` в `containers-storage:` системы с последующим помещением их в указанный первым параметром каталог в подкаталог с именем архитектуры `$ociDir/$arch`. Для улучшения последующей компресии слои образа помещаются несжатыми (параметр `--dest-oci-accept-uncompressed-layers`)

- После окончания наполнения подкаталога архитектуры он архивируется, сжимается и помещается в файл `$ociDir/$arch.tar.xz`

## EXAMPLES

`podsec-save-oci /tmp/ociDir/ amd64,arm64 k8s-c10f1/flannel:v0.19.2 k8s-c10f1/flannel-cni-plugin:v1.2.0`

## SECURITY CONSIDERATIONS

- Так как скрипт производит загрузку образов различных архитектур последняя загруженная в containers-storage: архитектура может отличаться от текущей архитектуры процессора. При необходимости нужно будет произвести перезагрузку образов для рабочей архитектуры процессора

## AUTHOR

Костарев Алексей, Базальт СПО
kaf@basealt.ru
