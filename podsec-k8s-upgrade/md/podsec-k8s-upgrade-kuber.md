podsec-k8s-upgrade-kuber.sh(1) -- обновление версий kubernetes для кщщедуыы решения
================================

## SYNOPSIS

`podsec-k8s-upgrade-kuber.sh masterNodeName [toMinorVersion]`

## DESCRIPTION

Скрипту передаются два параметра:

- имя или IP-адрес мастер-узла кластера;
- минорная версия до которой нужно обновить кластер.

Если конечная минорная верся не указана, берется последняя доступная на регистратре.

### Предварительные настройки

### Описание механизма обновления узлов кластера 

Скрипт обновляет текущуя версию кластера с матеровым узлом `masterNodeName` до указанной минорной версии.

Скрипт запускается из под суперпользователя имеющего доступ к кластеру (с настроенным файлом /root/.kube/config) на всех узлах кластера.
На всех узлах минорные версии `kubernetes` должны совпадать. Допускается различие минорных версии на значение не более `1`.

Первоначально обновление до следующей минорной версии произволится на узле `masterNodeName`. 
Скрипты на остальных узлах находятся в ожидании обновления минорной версии на мастер-узле.

После обновления минорной версии на мастер-узле начинается параллельное обновление версий на осталных узлах.
Скрипт на мастер-узле находится в ожидании обновления `kubernetes` на остальных узлах.

После обновления минорной версии на всех узлах продолжается обновлениее версии `kubernetes` до следующей доступной минорной на мастер-узле.

Процесс продолжается жл тех пор, пока все минорные версии на всех узлах не обновятся до указанной.
